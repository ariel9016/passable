!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.passable=t():n.passable=t()}(Function("return this")(),function(){return function(n){var t={};function r(e){if(t[e])return t[e].exports;var o=t[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)r.d(e,o,function(t){return n[t]}.bind(null,o));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=0)}([function(n,t,r){"use strict";r.r(t);function e(n){return function(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=["warn","fail"],i=function(n){var t=[],r=null,i=function(n,t){u.hasValidationWarnings=!0,u.validationWarnings[n]=u.validationWarnings[n]||[],u.validationWarnings[n].push(t),u.warnCount++,u.testsPerformed[n].warnCount++},a=function(n,t){u.hasValidationErrors=!0,u.validationErrors[n]=u.validationErrors[n]||[],u.validationErrors[n].push(t),u.failCount++,u.testsPerformed[n].failCount++},u={name:n,hasValidationErrors:!1,hasValidationWarnings:!1,failCount:0,warnCount:0,testCount:0,testsPerformed:{},validationErrors:{},validationWarnings:{},skipped:[],hasErrors:function(n){return n?Boolean(u.getErrors(n).length):u.hasValidationErrors},hasWarnings:function(n){return n?Boolean(u.getWarnings(n).length):u.hasValidationWarnings},getErrors:function(n){return n?u.validationErrors[n]?u.validationErrors[n]:[]:u.validationErrors},getWarnings:function(n){return n?u.validationWarnings[n]?u.validationWarnings[n]:[]:u.validationWarnings},done:function(n){return"function"!=typeof n?u:(r||n(u),t.push(n),u)},after:function(n,t){return"function"!=typeof t?u:(!(r=r||{})[n]&&u.testsPerformed[n]?t(u):r[n]&&(r[n].callbacks=[].concat(e(r[n].callbacks||[]),[t])),u)}};return{initFieldCounters:function(n){if(u.testsPerformed[n])return u;u.testsPerformed[n]={testCount:0,failCount:0,warnCount:0}},bumpTestError:a,bumpTestWarning:i,bumpTestCounter:function(n){if(!u.testsPerformed[n])return u;u.testsPerformed[n].testCount++,u.testCount++},fail:function(n,t,r){if(!u.testsPerformed[n])return u;"warn"===(r&&o.includes(r)?r:"fail")?i(n,t):a(n,t)},addToSkipped:function(n){!u.skipped.includes(n)&&u.skipped.push(n)},runCompletionCallbacks:function(){t.forEach(function(n){return n(u)})},markAsync:function(n){(r=r||{})[n]=r[n]||{},r[n]={done:!1,callbacks:r[n].callbacks||[]}},markAsDone:function(n){null!==r&&r[n]&&(r[n].done=!0,r[n].callbacks&&r[n].callbacks.forEach(function(n){return n(u)}))},output:u}};function a(n){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function u(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}var s=function(){function n(t){if(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t){if(!n.is(t))throw new TypeError;if("string"==typeof t||Array.isArray(t)){if(0===t.length)return;this.only=this.populateGroup(this.only,t)}else t.only&&(this.only=this.populateGroup(this.only,t.only)),t.not&&(this.not=this.populateGroup(this.not,t.not))}}var t,r,e;return t=n,e=[{key:"is",value:function(n){return Array.isArray(n)?n.every(function(n){return"string"==typeof n}):"string"==typeof n||!(null===n||"object"!==a(n)||!n.hasOwnProperty("only")&&!n.hasOwnProperty("not"))}}],(r=[{key:"populateGroup",value:function(n,t){return n=n||{},"string"==typeof t?n[t]=!0:Array.isArray(t)&&t.forEach(function(t){return n[t]=!0}),n}},{key:"excludes",value:function(n){return!(!this.only||this.only[n])||!(!this.not||!this.not[n])}}])&&u(t.prototype,r),e&&u(t,e),n}();function f(n){return function(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function l(n){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var y=function(n,t,r){return"[Passable]: failed during suite initialization. Unexpected '".concat(l(t),"' for '").concat(n,"' argument.\n    See: ").concat(r||"https://fiverr.github.io/passable/getting_started/writing_tests.html")},p=function n(t,r,e){var o=this;if(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),c(this,"pending",[]),c(this,"addPendingTest",function(n){return o.pending.push(n)}),c(this,"clearPendingTest",function(n){o.pending=o.pending.filter(function(t){return t!==n}),0===o.pending.length&&o.res.runCompletionCallbacks()}),c(this,"hasRemainingPendingTests",function(n){return o.pending.some(function(t){return t.fieldName===n})}),c(this,"test",function(n,t,r,e){if(o.specific.excludes(n))o.res.addToSkipped(n);else{var i;if(o.res.initFieldCounters(n),"function"==typeof r)i=o.runTest;else{if(!(r instanceof Promise))return;i=o.addPendingTest}i(Object.assign(r,{fieldName:n,statement:t,severity:e}))}}),c(this,"runTest",function(n){if(n instanceof Promise){o.res.markAsync(n.fieldName);var t=function(){o.clearPendingTest(n),o.hasRemainingPendingTests(n.fieldName)||o.res.markAsDone(n.fieldName)};!function(n,t,r){try{n.then(t,r)}catch(n){r()}}(n,t,function(){o.res.fail(n.fieldName,n.statement,n.severity),t()})}else(function(n){var t=null;try{var r=n();t=null!=r&&r.hasOwnProperty("valid")?r.valid:"boolean"!=typeof r||r||!1}catch(n){t=!1}return!!t})(n)||o.res.fail(n.fieldName,n.statement,n.severity),o.clearPendingTest(n);o.res.bumpTestCounter(n.fieldName)}),c(this,"runPendingTests",function(){f(o.pending).forEach(o.runTest)}),"string"!=typeof t)throw new TypeError(y("suite name",t));if("function"!=typeof r)throw new TypeError(y("tests",r));if(e&&!s.is(e))throw new TypeError(y("specific",r,"https://fiverr.github.io/passable/test/specific.html"));this.specific=new s(e),this.res=i(t),r(this.test,this.res.output),this.runPendingTests()};function m(n){return Boolean(Array.isArray(n))}m.negativeForm="isNotArray";var d=m;function b(n){return Boolean("number"==typeof n)}b.negativeForm="isNotNumber";var g=b;function h(n){return Boolean("string"==typeof n)}h.negativeForm="isNotString";var v=h;function w(n,t){return t instanceof RegExp?t.test(n):"string"==typeof t&&new RegExp(t).test(n)}w.negativeForm="notMatches";var S=w;function E(n){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function T(n,t){return Array.isArray(t)&&["string","number","boolean"].includes(E(n))?t.includes(n):"string"==typeof t&&"string"==typeof n&&t.includes(n)}T.negativeForm="notInside";var P=T;function N(n,t){return n===t}N.negativeForm="notEquals";var A=N;function O(n){var t=!isNaN(parseFloat(n))&&!isNaN(Number(n))&&isFinite(n);return Boolean(t)}O.negativeForm="isNotNumeric";var j=O;function k(n){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function C(n){return!n||(j(n)?0===n:n.hasOwnProperty("length")?0===n.length:"object"!==k(n)||0===Object.keys(n).length)}C.negativeForm="isNotEmpty";var x=C;function F(n,t){return j(n)&&j(t)&&Number(n)>Number(t)}F.alias="gt";var W=F;function q(n,t){return j(n)&&j(t)&&Number(n)>=Number(t)}q.alias="gte";var V=q;function _(n,t){return j(n)&&j(t)&&Number(n)<Number(t)}_.alias="lt";var B=_;function R(n,t){return j(n)&&j(t)&&Number(n)<=Number(t)}R.alias="lte";var I=R;var M=function(n,t){return n.length>t};var G=function(n,t){return n.length>=t};var D=function(n,t){return n.length<t};var z=function(n,t){return n.length<=t};function L(n,t){return n.length===t}L.negativeForm="lengthNotEquals";var U=function(n){var t=function(t){var r=n[t].negativeForm,e=n[t].alias;r&&(n[r]=function(){return!n[t].apply(n,arguments)}),e&&(n[e]=n[t])};for(var r in n)t(r);return n}({isArray:d,isNumber:g,isString:v,matches:S,inside:P,equals:A,isNumeric:j,isEmpty:x,greaterThan:W,greaterThanOrEquals:V,lessThan:B,lessThanOrEquals:I,longerThan:M,longerThanOrEquals:G,shorterThan:D,shorterThanOrEquals:z,lengthEquals:L});function H(n){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var J=function(n,t){if("function"==typeof n){for(var r=arguments.length,e=new Array(r>2?r-2:0),o=2;o<r;o++)e[o-2]=arguments[o];if(!0!==n.apply(void 0,[t].concat(e)))throw new Error("[Enforce]: ".concat(n.name," invalid ").concat(H(t)," value"))}},K=(Function("return this")(),function(n,t){return n.hasOwnProperty(t)&&"function"==typeof n[t]}),Q=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},U,n);return"function"==typeof Proxy?function(n){var r=new Proxy(t,{get:function(t,e){if(K(t,e))return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return J.apply(void 0,[t[e],n].concat(i)),r}}});return r}:function(n){return Object.keys(t).reduce(function(r,e){return K(t,e)?(r[e]=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return J.apply(void 0,[t[e],n].concat(i)),r},r):r},{})}};function X(n){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var Y=function(n){if("function"!=typeof n&&!(n instanceof Promise))throw new TypeError("[Validate]: expected ".concat(X(n)," to be a function."));try{return!1!==n()}catch(n){return!1}};function Z(n,t,r){return new p(n,t,r).res.output}Z.VERSION="6.3.5",Z.enforce=new Q({}),Z.Enforce=Q,Z.validate=Y,Z.WARN="warn",Z.FAIL="fail";t.default=Z}]).default});
//# sourceMappingURL=passable.min.js.map